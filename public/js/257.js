(self.webpackChunk=self.webpackChunk||[]).push([[257],{7267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i,o=n(5166),a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],r=function(e){return-1!==a.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},s=function(e,t,n,i,a,s){i.setContent(s()),n.attrs["onUpdate:modelValue"]&&function(e,t,n,i){var a=e.modelEvents?e.modelEvents:null,r=Array.isArray(a)?a.join(" "):a;(0,o.YP)(i,(function(t,i){n&&"string"==typeof t&&t!==i&&t!==n.getContent({format:e.outputFormat})&&n.setContent(t)})),n.on(r||"change input undo redo",(function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))}))}(t,n,i,a),function(e,t,n){Object.keys(t).filter(r).forEach((function(i){var o=t[i];"function"==typeof o&&("onInit"===i?o(e,n):n.on(i.substring(2),(function(e){return o(e,n)})))}))}(e,n.attrs,i)},l=0,u=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++l+String(t)},c=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(){return{listeners:[],scriptId:u("tiny-script"),scriptLoaded:!1}},m=(i=d(),{load:function(e,t,n){i.scriptLoaded?n():(i.listeners.push(n),e.getElementById(i.scriptId)||function(e,t,n,i){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var a=function(){o.removeEventListener("load",a),i()};o.addEventListener("load",a),t.head&&t.head.appendChild(o)}(i.scriptId,e,t,(function(){i.listeners.forEach((function(e){return e()})),i.scriptLoaded=!0})))},reinitialize:function(){i=d()}}),p=function(){var e="undefined"!=typeof window?window:n.g;return e&&e.tinymce?e.tinymce:null},f={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},g=function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const h=(0,o.aZ)({props:f,setup:function(e,t){var n=(0,o.BK)(e),i=n.disabled,a=n.modelValue,r=(0,o.iH)(null),l=null,d=e.id||u("tiny-vue"),f=e.init&&e.init.inline||e.inline,h=!!t.attrs["onUpdate:modelValue"],v=!0,y=e.initialValue?e.initialValue:"",b="",w=function(){var n,i,o,u=(n=v,h?function(){return(null==a?void 0:a.value)?a.value:""}:function(){return n?y:b}),m=g(g({},e.init),{readonly:e.disabled,selector:"#"+d,plugins:(i=e.init&&e.init.plugins,o=e.plugins,c(i).concat(c(o))),toolbar:e.toolbar||e.init&&e.init.toolbar,inline:f,setup:function(n){l=n,n.on("init",(function(i){return s(i,e,t,n,a,u)})),e.init&&"function"==typeof e.init.setup&&e.init.setup(n)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(r.value)&&(r.value.style.visibility=""),p().init(m),v=!1};return(0,o.YP)(i,(function(e){null!==l&&l.setMode(e?"readonly":"design")})),(0,o.bv)((function(){if(null!==p())w();else if(r.value&&r.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"5",n=e.apiKey?e.apiKey:"no-api-key",i=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js":e.tinymceScriptSrc;m.load(r.value.ownerDocument,i,w)}})),(0,o.Jd)((function(){null!==p()&&p().remove(l)})),f||((0,o.dl)((function(){v||w()})),(0,o.se)((function(){var e;h||(b=l.getContent()),null===(e=p())||void 0===e||e.remove(l)}))),function(){return f?(t=o.h,n=d,i=r,a=e.tagName,t(a||"div",{id:n,ref:i})):function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})}(o.h,d,r);var t,n,i,a}}})},5387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,"img[data-v-52e8f35e]{height:350px;margin-bottom:10px;-o-object-fit:contain;object-fit:contain;width:70%}",""]);const a=o},2124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4019),o=n(5166),a={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3}},timeout:null,data:()=>({visible:!0}),mounted(){this.sticky||setTimeout((()=>{this.visible=!1}),this.life)},methods:{close(e){this.visible=!1,this.$emit("close",e)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",{"pi-info-circle":"info"===this.severity,"pi-check":"success"===this.severity,"pi-exclamation-triangle":"warn"===this.severity,"pi-times-circle":"error"===this.severity}]}},directives:{ripple:i.Z}};const r={class:"p-message-wrapper"},s={class:"p-message-text"},l=(0,o.Wm)("i",{class:"p-message-close-icon pi pi-times"},null,-1);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.p-message-wrapper {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-message-close {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-message-close.p-link {\n    margin-left: auto;\n    overflow: hidden;\n    position: relative;\n}\n.p-message-enter-from {\n    opacity: 0;\n}\n.p-message-enter-active {\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n}\n.p-message.p-message-leave-from {\n    max-height: 1000px;\n}\n.p-message.p-message-leave-to {\n    max-height: 0;\n    opacity: 0;\n    margin: 0 !important;\n}\n.p-message-leave-active {\n    overflow: hidden;\n    -webkit-transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n    transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n}\n.p-message-leave-active .p-message-close {\n    display: none;\n}\n"),a.render=function(e,t,n,i,a,u){const c=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)(o.uT,{name:"p-message",appear:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)("div",{class:u.containerClass,role:"alert"},[(0,o.Wm)("div",r,[(0,o.Wm)("span",{class:u.iconClass},null,2),(0,o.Wm)("div",s,[(0,o.WI)(e.$slots,"default")]),n.closable?(0,o.wy)(((0,o.wg)(),(0,o.j4)("button",{key:0,class:"p-message-close p-link",onClick:t[1]||(t[1]=e=>u.close(e)),type:"button"},[l],512)),[[c]]):(0,o.kq)("",!0)])],2),[[o.F8,a.visible]])])),_:3})};const u=a},1958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5166),o={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const e=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${e.borderTopWidth} + ${e.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.p-inputtextarea-resizable {\n    overflow: hidden;\n    resize: none;\n}\n.p-fluid .p-inputtextarea {\n    width: 100%;\n}\n"),o.render=function(e,t,n,o,a,r){return(0,i.wg)(),(0,i.j4)("textarea",(0,i.dG)({class:["p-inputtextarea p-inputtext p-component",{"p-filled":r.filled,"p-inputtextarea-resizable ":n.autoResize}]},e.$attrs,{value:n.modelValue,onInput:t[1]||(t[1]=(...e)=>r.onInput&&r.onInput(...e))}),null,16,["value"])};const a=o},3257:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var i=n(5166),o=(0,i.HX)("data-v-52e8f35e");(0,i.dD)("data-v-52e8f35e");var a=(0,i.Wm)("h2",null,"Create a new Article",-1),r=(0,i.Uk)("Image size exceeds 5MB"),s={key:0},l=(0,i.Wm)("label",{class:"label-upload",for:"upload"},"Select Image Banner",-1),u={key:1},c=(0,i.Uk)("Remove image"),d={style:{"margin-top":"20px"}},m=(0,i.Wm)("label",{for:"desc"},"Article Title",-1),p={style:{margin:"20px 0"}},f=(0,i.Uk)("Create Article");(0,i.Cn)();var g=o((function(e,t,n,g,h,v){var y=(0,i.up)("Message"),b=(0,i.up)("Button"),w=(0,i.up)("Textarea"),C=(0,i.up)("editor");return(0,i.wg)(),(0,i.j4)("div",null,[(0,i.Wm)("div",null,[a,(0,i.Wm)("div",null,[(0,i.Wm)("div",null,[h.errorSize?((0,i.wg)(),(0,i.j4)(y,{key:0,severity:"error"},{default:o((function(){return[r]})),_:1})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(h.items,(function(e){return(0,i.wg)(),(0,i.j4)("div",null,[e.image?((0,i.wg)(),(0,i.j4)("div",u,[(0,i.Wm)("img",{src:e.image},null,8,["src"]),(0,i.Wm)(b,{style:{background:"indianred"},onClick:function(t){return v.removeImage(e)}},{default:o((function(){return[c]})),_:2},1032,["onClick"])])):((0,i.wg)(),(0,i.j4)("div",s,[(0,i.Wm)("input",{type:"file",onChange:function(t){return v.onFileChange(e,t)},accept:"image/*",id:"upload",hidden:""},null,40,["onChange"]),l]))])})),256))]),(0,i.Wm)("div",d,[m,(0,i.Wm)(w,{id:"desc",modelValue:h.form.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.title=e}),autoResize:!0,rows:"4",cols:"30"},null,8,["modelValue"])])])]),(0,i.Wm)("div",null,[(0,i.Wm)(C,{initialValue:"<p>Article contents</p>","api-key":"dooeanipvyv792bved3c6noxt3vtu9rotq517mdw6lno14ia",disabled:!1,id:"uuid",modelValue:h.form.abt,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.abt=e}),init:{height:500,menubar:"file edit view insert format tools table tc help",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,plugins:["advlist autolink lists link image charmap","searchreplace visualblocks code fullscreen","print preview anchor insertdatetime media","paste code help wordcount table"],toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"},"model-events":"",plugins:"","tag-name":"div",toolbar:"",value:""},null,8,["modelValue"])]),(0,i.Wm)("div",p,[(0,i.Wm)(b,{loading:h.loadingAdd,onClick:t[3]||(t[3]=function(e){return v.createArticle()})},{default:o((function(){return[f]})),_:1},8,["loading"])])])})),h=n(7267),v=n(4325),y=n(1958),b=n(2124),w=n(3621),C=n(7044);const x={name:"app",components:{editor:h.Z,Message:b.Z,Button:v.Z,Textarea:y.Z},setup:function(){return{successToast:function(e){(0,w.Yz)(e,{hideProgressBar:"true",showIcon:"true",position:"top-right",type:"success",transition:"zoom",timeout:1500,toastBackgroundColor:"#6cb2eb"})},errorToast:function(e){(0,w.Yz)(e,{hideProgressBar:"true",showIcon:"true",position:"top-right",type:"success",transition:"zoom",timeout:1500,toastBackgroundColor:"#E46464"})}}},data:function(){return{form:{abt:"",title:""},items:[{image:!1}],editItems:[{image:!1}],errorSize:!1,imagesArray:null,imgUrl:"",loadingAdd:!1}},methods:{onFileChange:function(e,t){this.errorSize=!1;var n=t.target.files||t.dataTransfer.files;if(n.length){if(n[0].size>5242880)return this.errorSize=!0,void this.removeImage(e);this.imagesArray=event.target.files[0],this.createImage(e,n[0])}},createImage:function(e,t){new Image;var n=new FileReader;n.onload=function(t){e.image=t.target.result},n.readAsDataURL(t)},removeImage:function(e){e.image=!1},createArticle:function(){var e=this;if(null===this.imagesArray)this.errorToast("Upload Image Banner");else if(""===this.form.title||""===this.form.abt)this.errorToast("Fill all fields");else{this.loadingAdd=!0;var t=new FormData;t.append("title",this.form.title),t.append("abt",this.form.abt),t.append("file",this.imagesArray,this.imagesArray.name),axios.post("/api/create-article",t).then((function(t){e.successToast("Article created"),e.show_add_modal=!1,e.imagesArray=null,e.loadingAdd=!1,e.form={},C.Z.push({name:"Admin-Articles"})})).catch((function(t){e.loadingAdd=!1,e.errorToast("An error occurred!")}))}}}};var k=n(3379),S=n.n(k),A=n(5387),z={insert:"head",singleton:!1};S()(A.Z,z);A.Z.locals;x.render=g,x.__scopeId="data-v-52e8f35e";const B=x}}]);